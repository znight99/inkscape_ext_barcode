# HX error correct levels
ERROR_CORRECT_L1 = 0
ERROR_CORRECT_L2 = 1
ERROR_CORRECT_L3 = 2
ERROR_CORRECT_L4 = 3

MODE_NUMBER = 1
MODE_TEXT = 2
MODE_BINARY = 3
MODE_CHINESE_1 = 4
MODE_CHINESE_2 = 5
MODE_GB18030_2 = 6
MODE_GB18030_4=7
MODE_ECI=8

PAD0=0

DATA_LEN=[ 0,
    25,  37,  50,  54,  69,  84, 100, 117, 136, 155,
   161, 181, 203, 225, 249, 273, 299, 325, 353, 381,
   411, 422, 453, 485, 518, 552, 587, 623, 660, 698,
   737, 754, 794, 836, 878, 922, 966,1011,1058,1105,
  1126,1175,1224,1275,1327,1380,1434,1489,1513,1569,
  1628,1686,1745,1805,1867,1929,1992,2021,2086,2151,
  2218,2286,2355,2425,2496,2528,2600,2673,2749,2824,
  2900,2977,3056,3135,3171,3252,3334,3416,3500,3585,
  3671,3758,3798,3886
]

RP_K=[ 0,
   0, 0, 0,14,16,16,17,18,19,20,
  14,15,16,16,17,17,18,19,20,20,
  21,16,17,17,18,18,19,19,20,20,
  21,17,17,18,18,19,19,19,20,20,
  17,17,18,18,18,19,19,19,17,17,
  18,18,18,18,19,19,19,17,17,18,
  18,18,18,19,19,17,17,17,18,18,
  18,18,19,19,17,17,17,18,18,18,
  18,18,17,17
]

RP_R=[ 0,
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  15,15,15,17,17,19,19,19,19,21,
  21,17,16,18,17,19,18,20,19,21,
  20,17,19,17,19,17,19,21,19,21,
  18,20,17,19,21,18,20,22,17,19,
  15,17,19,21,17,19,21,18,20,15,
  17,19,21,16,18,17,19,21,15,17,
  19,21,15,17,18,20,22,15,17,19,
  21,23,17,19
]

RS_BLOCK_OFFSET = {
    ERROR_CORRECT_L1: 0,
    ERROR_CORRECT_L2: 1,
    ERROR_CORRECT_L3: 2,
    ERROR_CORRECT_L4: 3,
}

RS_BLOCK_TABLE = [

    # 1
    [1, 25, 21],
    [1, 25, 17],
    [1, 25, 13],
    [1, 25, 9],

    # 2
    [1, 37, 31],
    [1, 37, 25],
    [1, 37, 19],
    [1, 37, 15],

    # 3
    [1, 50, 42],
    [1, 50, 34],
    [1, 50, 26],
    [1, 50, 20],

    # 4
    [1, 54, 46],
    [1, 54, 38],
    [1, 54, 30],
    [1, 54, 22],

    # 5
    [1, 69, 57],
    [1, 69, 49],
    [1, 69, 37],
    [1, 34, 14, 1, 35, 13],

    # 6
    [1, 84, 70],
    [1, 84, 58],
    [1, 44, 24,1,40,22],
    [1, 40, 16,1,44,18],

    # 7
    [1, 100, 84],
    [1, 100, 70],
    [1, 48, 26, 1, 52, 28],
    [2, 34, 14, 1, 32, 12],

    # 8
    [1, 117, 99],
    [1, 58, 40, 1, 59, 41],
    [1, 57, 31, 1, 60, 32],
    [2, 40, 16, 1, 37, 15],

    # 9
    [1, 136, 114],
    [2, 68, 48],
    [2, 44, 24, 1, 48, 26],
    [2, 46, 18, 1, 44, 18],

    # 10
    [1, 155, 131],
    [1, 74, 52, 1, 81, 57],
    [2, 51, 27, 1, 53, 29],
    [2, 53, 21, 1, 49, 19],

    # 11
    [1, 161, 135],
    [1, 80, 56, 1, 81, 57],
    [2, 52, 28, 1, 57, 31],
    [2, 54, 22, 1, 53, 21],

    # 12
    [1, 181,153],
    [1, 88, 62, 1, 93, 65],
    [2, 60, 32, 1, 61, 33],
    [3, 43, 17, 1, 52, 22],

    # 13
    [1, 102, 86,1,101,85],
    [1,101,71,1,102,72],
    [2,69,37,1,65,35],
    [3,50,20,1,53,21],

    # 14
    [1,112,94,1,113,95],
    [2,73,51,1,79,55],
    [3,56,30,1,57,31],
    [4,46,18,1,41,17],

    # 15
    [1,124,104,1,125,105],
    [2,81,57,1,87,61],
    [3,61,33,1,66,36],
    [4,50,20,1,49,19],

    # 16
    [1,137,115,1,136,114],
    [2,93,65,1,87,61],
    [3,70,38,1,63,33],
    [5,47,19,1,38,14],

    # 17
    [1,150,126,1,149,125],
    [2,100,70,1,99,69],
    [4,61,33,1,55,29],
    [5,50,20,1,49,19],

    # 18
    [1,162,136,1,163,137],
    [3,80,56,1,85,59],
    [5,65,35],
    [6,46,18,1,49,21],

    # 19
    [1,176,148,1,177,149],
    [3,87,61,1,92,64],
    [7,44,24,1,45,23],
    [6,50,20,1,53,21],

    # 20
    [3,127,107],
    [3,93,65,1,102,72],
    [7,48,26,1,45,23],
    [7,47,19,1,52,20],

    # 21
    [3,137,115],
    [4,80,56,1,91,63],
    [7,52,28,1,47,25],
    [8,46,18,1,43,21],

    # 22
    [2,138,116,1,146,122],
    [4,80,56,1,102,72],
    [7,52,28,1,58,32],
    [8,46,18,1,54,24],

    # 23
    [3,151,127],
    [5,73,51,1,88,62],
    [7,56,30,1,61,35],
    [8,50,20,1,53,21],

    # 24
    [2,161,135,1,163,137],
    [5,80,56,1,85,59],
    [7,61,33,1,58,30],
    [11,40,16,1,45,19],

    # 25
    [3,125,105,1,143,121],
    [5,87,61,1,83,57],
    [9,52,28,1,50,28],
    [10,47,19,1,48,18],

    # 26
    [2,187,157,1,178,150],
    [5,93,65,1,87,61],
    [8,61,33,1,64,34],
    [10,47,19,2,41,15],

    # 27
    [3,150,126,1,137,115],
    [7,73,51,1,76,54],
    [8,65,35,1,67,37],
    [15,37,15,1,32,10],

    # 28
    [4,125,105,1,123,103],
    [7,80,56,1,63,45],
    [10,57,31,1,53,27],
    [10,43,17,3,48,20,1,49,21],

    # 29
    [3,165,139,1,165,137],
    [6,94,66,1,96,66],
    [9,66,36,1,66,34],
    [13,47,19,1,49,17],

    # 30
    [6,100,84,1,98,82],
    [6,100,70,1,98,68],
    [7,65,35,3,61,33,1,60,32],
    [13,50,20,1,48,20],

    # 31
    [5,125,105,1,112,94],
    [6,106,74,1,101,71],
    [11,61,33,1,66,34],
    [13,47,19,3,42,16],

    # 32
    [4,151,127,1,150,126],
    [7,94,66,1,96,66],
    [12,54,30,1,52,24,1,54,24],
    [15,47,19,1,49,17],

    # 33
    [7,100,84,1,94,78],
    [7,100,70,1,94,66],
    [12,61,33,1,62,32],
    [14,53,21,1,52,24],

    # 34
    [5,139,117,1,141,117],
    [8,94,66,1,84,58],
    [11,70,38,1,66,34],
    [15,50,20,2,43,17],

    # 35
    [4,176,148,1,174,146],
    [8,98,68,1,94,70],
    [10,68,36,3,66,38],
    [16,47,19,3,42,16],

    # 36
    [4,150,126,2,161,135],
    [8,98,70,2,69,43],
    [13,60,32,2,71,41],
    [17,47,19,3,41,15],

    # 37
    [5,162,136,1,156,132],
    [5,97,67,4,96,68,1,97,69],
    [14,65,35,1,56,32],
    [18,44,18,3,44,16,1,42,14],

    # 38
    [3,168,142,3,169,141],
    [8,100,70,1,105,73,1,106,74],
    [12,64,34,3,60,34,1,63,35],
    [18,53,21,1,57,27],

    # 39
    [5,138,116,2,123,103,1,122,102],
    [9,106,74,1,104,74],
    [14,62,34,2,64,32,1,62,32],
    [19,53,21,1,51,25],

    # 40
    [7,138,116,1,139,117],
    [11,93,65,1,82,58],
    [15,70,38,1,55,27],
    [20,50,20,1,52,20,1,53,21],
    
    #41
    [6,162,136,1,154,130],
    [11,94,66,1,92,62],
    [14,62,34,3,66,34,1,60,30],
    [18,50,20,3,48,20,2,41,15],

    #42
    [5,125,105,2,137,115,2,138,116],
    [10,107,75,1,105,73],
    [16,70,38,1,55,27],
    [22,47,19,2,46,16,1,49,19],

    #43
    [6,175,147,1,174,146],
    [11,94,66,2,95,65],
    [18,61,33,2,63,33],
    [22,53,21,1,58,28],

    #44
    [6,138,116,3,149,125],
    [11,107,75,1,98,68],
    [13,63,35,6,66,34,1,60,30],
    [23,53,21,1,56,26],

    #45
    [7,125,105,4,113,95],
    [12,95,67,1,93,63,1,94,62],
    [21,57,31,2,65,33],
    [23,53,21,2,54,24],

    #46
    [10,138,116],
    [12,106,74,1,108,78],
    [18,69,37,1,69,39,1,69,41],
    [25,53,21,1,55,27],

    #47
    [5,150,126,4,137,115,1,136,114],
    [12,95,67,2,98,66,1,98,68],
    [21,65,35,1,69,39],
    [26,53,21,1,56,28],

    #48
    [9,150,126,1,139,117],
    [13,107,75,1,98,68],
    [20,65,35,3,63,35],
    [27,53,21,1,58,28],

    #49
    [9,150,126,1,163,137],
    [13,101,71,2,100,68],
    [20,69,37,1,67,39,1,66,38],
    [24,52,20,5,53,25],

    #50
    [8,175,147,1,169,141],
    [10,105,73,4,104,74,1,103,73],
    [16,68,36,6,69,39,1,67,37],
    [27,53,21,3,46,20],

    #51
    [9,163,137,1,161,135],
    [12,100,70,4,107,75],
    [24,65,35,1,68,40],
    [23,52,20,8,54,24],

    #52
    [14,113,95,1,104,86],
    [13,105,73,3,107,77],
    [24,65,35,2,63,35],
    [26,53,21,5,51,21,1,53,23],

    #53
    [9,175,147,1,170,142],
    [10,103,73,6,102,70,1,103,71],
    [25,65,35,2,60,34],
    [29,53,21,4,52,22],

    #54
    [11,150,126,1,155,131],
    [16,106,74,1,109,79],
    [25,70,38,1,55,25],
    [33,53,21,1,56,28],

    #55
    [14,125,105,1,117,99],
    [19,93,65,1,100,72],
    [24,69,37,2,70,40,1,71,41],
    [31,53,21,4,56,24],

    #56
    [10,175,147,1,179,151],
    [15,101,71,3,103,71,1,105,73],
    [24,69,37,3,68,38,1,69,39],
    [36,49,19,3,55,29],

    #57
    [15,125,105,1,117,99],
    [19,100,70,1,92,64],
    [27,70,38,2,51,25],
    [38,50,20,2,46,18],

    #58
    [14,125,105,1,135,113,1,136,114],
    [17,97,67,3,124,92],
    [30,65,35,1,71,41],
    [36,53,21,1,56,26,1,57,27],

    #59
    [11,174,146,1,172,146],
    [20,100,70,1,86,60],
    [29,70,38,1,56,24],
    [40,50,20,2,43,17],

    #60
    [3,163,137,1,162,136,10,150,126],
    [22,93,65,1,105,75],
    [30,69,37,1,81,51],
    [42,50,20,1,51,21],

    #61
    [12,150,126,2,140,118,1,138,116],
    [19,106,74,1,104,74,1,100,72],
    [30,70,38,2,59,29],
    [39,52,20,2,63,37,1,64,38],

    #62
    [12,150,126,3,162,136],
    [21,100,70,2,93,65],
    [34,65,35,1,76,44],
    [42,50,20,2,47,19,2,46,18],

    #63
    [12,150,126,3,139,117,1,138,116],
    [25,87,61,2,90,62],
    [34,65,35,1,72,40,1,73,41],
    [45,50,20,1,52,20,1,53,21],

    #64
    [15,125,105,2,137,115,2,138,116],
    [25,93,65,1,100,72],
    [18,65,35,17,69,37,1,82,50],
    [42,50,20,6,47,19,1,43,15],

    #65
    [19,125,105,1,121,101],
    [33,73,51,1,87,65],
    [40,61,33,1,56,28],
    [49,50,20,1,46,18],

    #66
    [18,125,105,2,139,117],
    [26,93,65,1,110,80],
    [35,65,35,3,63,35,1,64,36],
    [52,46,18,2,68,38],

    #67
    [26,100,84],
    [26,100,70],
    [45,57,31,1,35,9],
    [52,50,20],

    #68
    [16,150,126,1,136,114,1,137,115],
    [23,100,70,3,93,65,1,94,66],
    [40,65,35,1,73,43],
    [46,50,20,7,47,19,1,44,16],

    #69
    [19,138,116,1,127,105],
    [20,100,70,7,94,66,1,91,63],
    [40,65,35,1,74,42,1,75,43],
    [54,50,20,1,49,19],

    #70
    [17,150,126,2,137,115],
    [24,100,70,4,106,74],
    [48,57,31,2,44,18],
    [54,47,19,6,41,15,1,40,14],

    #71
    [29,100,84],
    [29,100,70],
    [6,64,34,3,66,36,38,61,33],
    [58,50,20],

    #72
    [16,175,147,1,177,149],
    [31,94,66,1,63,37],
    [48,61,33,1,49,23],
    [53,50,20,6,47,19,1,45,17],

    #73
    [20,137,115,2,158,134],
    [29,94,66,2,82,56,2,83,57],
    [45,66,36,2,43,15],
    [59,50,20,2,53,21],

    #74
    [17,175,147,1,160,134],
    [26,100,70,5,107,75],
    [47,65,35,1,80,48],
    [64,46,18,2,63,33,1,65,35],

    #75
    [22,137,115,1,157,133],
    [33,93,65,1,102,74],
    [43,66,36,5,55,27,1,58,30],
    [57,50,20,5,53,21,1,56,24],

    #76
    [18,162,136,2,168,142],
    [33,94,66,2,75,49],
    [48,65,35,2,66,38],
    [64,50,20,1,52,20],

    #77
    [19,150,126,2,161,135,1,162,136],
    [32,94,66,2,81,55,2,82,56],
    [49,66,36,2,50,18],
    [65,46,18,5,57,27,1,59,29],

    #78
    [20,163,137,1,156,130],
    [30,107,75,2,103,71],
    [46,65,35,6,71,39],
    [3,42,12,70,47,19],

    #79
    [20,175,147],
    [35,100,70],
    [49,65,35,5,63,35],
    [70,50,20],

    #80
    [21,162,136,1,183,155],
    [34,100,70,1,92,64,1,93,65],
    [54,65,35,1,75,45],
    [68,50,20,3,46,18,1,47,19],

    #81
    [19,150,126,5,137,115,1,136,114],
    [33,100,70,3,93,65,1,92,64],
    [52,65,35,3,73,41,1,72,40],
    [67,50,20,5,53,21,1,56,24],

    #82
    [2,178,150,21,162,136],
    [32,100,70,6,93,65],
    [52,70,38,2,59,27],
    [73,50,20,2,54,22],

    #83
    [21,150,126,4,162,136],
    [30,106,74,6,103,73],
    [54,65,35,4,72,40],
    [75,50,20,1,48,20],

    #84
    [30,125,105,1,136,114],
    [3,67,45,55,67,47],
    [2,52,26,62,61,33],
    [79,46,18,4,63,33],

]

if __name__ == '__main__':
  for i in range(84):
    for j in range(4):
      tl=0
      tt=0
      for l in range(0,len(RS_BLOCK_TABLE[i*4+j]),3):
        (a,b,c)=RS_BLOCK_TABLE[i*4+j][l:l+3]
        '''
        if j==0 and (float(c)/b<0.75 or float(c)/b>0.85):
          print 'Warning',i+1,j,float(c)/b
        if j==1 and (float(c)/b<0.65 or float(c)/b>0.75):
          print 'Warning',i+1,j,float(c)/b
        if j==2 and (float(c)/b<0.45 or float(c)/b>0.60):
          print 'Warning',i+1,j,float(c)/b
        if j==3 and (float(c)/b<0.35 or float(c)/b>0.45):
          print 'Warning',i+1,j,float(c)/b
        '''
        tt+=(b-c)*a
        if (b-c)%2!=0:
          print 'Error',i,j,tl
        tl+=a*b
      if j==0 and (float(tt)/tl<0.15 or float(tt)/tl>0.18):
          print 'Warning',i+1,j,tl,tt,float(tt)/tl
      if j==1 and (float(tt)/tl<0.28 or float(tt)/tl>0.32):
          print 'Warning',i+1,j,tl,tt,float(tt)/tl
      if j==2 and (float(tt)/tl<0.44 or float(tt)/tl>0.47):
          print 'Warning',i+1,j,tl,tt,float(tt)/tl
      if j==3 and (float(tt)/tl<0.58 or float(tt)/tl>0.62):
          print 'Warning',i+1,j,tl,tt,float(tt)/tl
      if tl!=DATA_LEN[i+1]:
        print 'Error',i,j,tl
        